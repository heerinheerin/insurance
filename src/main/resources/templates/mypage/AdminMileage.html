<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout1}">

<head>
    <title>마일리지 작성</title>
    <meta name="_csrf" th:content="${_csrf.token}" />
    <meta name="_csrf_header" th:content="${_csrf.headerName}" />
</head>

<th:block layout:fragment="script">
    <script th:inline="javascript">

      function pop()  {

       // 고객번호와 이름을 가져옴
          var memberId = document.getElementById("memberId").value;
          var memberName = document.getElementById("memberName").value;

          if (!memberId) {
                memberId = 0;

            }

          // 새 창을 열어서 Popup.asp 페이지로 요청 보냄
          var url = "/Popup.asp?memberId=" + encodeURIComponent(memberId) + "&memberName=" + encodeURIComponent(memberName);
      window.open(url, "pop", "width=400,height=500,history=no,resizable=no,status=no,scrollbars=yes,menubar=no")
      }

      function sendMileage(){
      var memberId = document.getElementById("Id").value;
      var content = document.getElementById("content").value;
      var point = document.getElementById("point").value;

      location.href= "/mileageOK/"+ encodeURIComponent(memberId) + "/"+ encodeURIComponent(content) + "/" + encodeURIComponent(point)
      }



    </script>
</th:block>

<th:block layout:fragment="css">
    <style>
        div {
    display: block;
    unicode-bidi: isolate;
    }
    hr{
        width: 100px;
    }
    .mypage{
        float: left;
        margin-right: 20px;
    }
    .orderlist{
        float: left;
        width: 500px;
    }
    .tit {
    display: table-cell;
    vertical-align: middle;
     }
    img{
       width:100px;
       height:100px;
    }



    /* 전체 컨테이너 스타일 */
    .container {
        width: 60%;
        margin: 20px auto;
        padding: 20px;
        font-family: Arial, sans-serif;
        text-align: center; /* 가운데 정렬 */
    }

    /* 제목 스타일 */
    .container h3 {
        font-size: 24px;
        color: #333;
        margin-bottom: 20px;
    }

    /* 폼 스타일 */
    .container form {
        margin-bottom: 20px;
        display: inline-block; /* 가운데 정렬을 위해 인라인 블록 요소로 설정 */
        text-align: left; /* 폼 내부 요소를 왼쪽 정렬 */
    }

    /* 입력 필드와 라벨 스타일 */
    .container form div {
        margin-bottom: 10px;
    }

    .container form label {
        display: inline-block;
        width: 100px;
        font-weight: bold;
        margin-right: 10px;
    }

    .container form input[type="text"],
    .container form input[type="number"] {
        padding: 8px;
        width: 200px;
        border: 1px solid #ccc; /* 테두리 추가 */
        border-radius: 4px;
        box-sizing: border-box;
        font-size: 14px;
    }

    /* 버튼 스타일 */
    .container form button {
        padding: 10px 20px;
        background-color: #4CAF50; /* 기본 배경색 */
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 14px;
    }

    .container form button:hover {
        background-color: #45a049; /* 호버 시 배경색 변경 */
    }

    </style>
</th:block>

<div layout:fragment="content">

    <div>
        <div class="mypage">
            <h3>마이페이지</h3>
            <div>
                <ul style="list-style: none">
                    <hr style="border: 1px solid rgb(34, 34, 34);">
                    <li ><a href="/orders">예약내역</a></li>
                    <hr>
                    <li><a href="/cart">찜</a></li>
                    <hr>
                    <li><a href="/mileage"><strong>마일리지</strong></a></li>
                    <hr>
                    <li><a>쿠폰함</a></li>
                    <hr>
                    <li><a href="/userQuestion">1:1문의</a></li>
                    <hr>
                    <li><a href="/qna">자주 찾는 질문</a></li>
                    <hr>
                    <li><a>My 여행 후기</a></li>
                    <hr>
                    <li><a href="/updateInfo">개인정보 수정</a></li>
                    <hr style="border: 1px solid rgb(34, 34, 34);">

                </ul>
            </div>

        </div>


        <div class="container">
            <div>
                <h3>마일리지 작성</h3>

                <form>
                    <div class="memberSearch">
                        <div>
                            <label for="memberId">고객번호</label>
                            <input type="number" id="memberId">
                        </div>
                        <div>
                            <label for="memberName">이름</label>
                            <input type="text" id="memberName">
                        </div>
                        <button type="button" onclick="pop()">검색</button>
                    </div>
                </form>

                <form  >
                    <div class="mileageSend">
                        <input type="number" id="Id" th:value="${memberId}" />

                        <div>
                            <label for="content">내용</label>
                            <input type="text" id="content">
                        </div>
                        <div>
                            <label for="point">마일리지</label>
                            <input type="number" id="point">
                        </div>
                        <button type="button" onclick="sendMileage()">보내기</button>
                    </div>
               </form>
            </div>
        </div>
    </div>
</div>
</html>